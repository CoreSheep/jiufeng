{{ define "main" }}

<!-- Hero Section -->
<div class="hero-section py-5 mb-5" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-8">
        <h1 class="display-4 fw-bold mb-3">Hi, I'm Jiufeng!</h1>
        <p class="lead mb-4">Data Scientist | AI Enthusiast | Master's Student at Heidelberg University</p>
        <div class="d-flex gap-3">
          <a href="/about/" class="btn btn-light btn-lg">Learn More About Me</a>
          <a href="/blogs/" class="btn btn-outline-light btn-lg">Read My Blog</a>
        </div>
      </div>
      <div class="col-lg-4 text-center">
        {{ $image := resources.Get "/img/author/author_profile_pic.jpg" }}
        {{ if $image }}
        <img src="{{ $image.RelPermalink }}" alt="Jiufeng Li" 
             class="rounded-circle img-fluid shadow" style="width: 200px; height: 200px; object-fit: cover;">
        {{ end }}
      </div>
    </div>
  </div>
</div>

<!-- Main Content -->
<div class="container" role="main">
  <div class="row">
    <!-- About Summary Section -->
    <div class="col-lg-8 mb-5">
      <div class="card shadow-sm border-0">
        <div class="card-body p-4">
          <h2 class="card-title h3 mb-4">
            <i class="bi bi-person-circle me-2"></i>About Me
          </h2>
          {{ $aboutPage := .Site.GetPage "/about" }}
          {{ if $aboutPage }}
            <div class="about-summary">
              {{ $aboutPage.Summary | truncate 300 }}
              <a href="/about/" class="text-decoration-none fw-semibold">Read more â†’</a>
            </div>
          {{ end }}
        </div>
      </div>
    </div>

    <!-- Quick Stats -->
    <div class="col-lg-4 mb-5">
      <div class="card shadow-sm border-0 h-100">
        <div class="card-body p-4">
          <h3 class="card-title h4 mb-4">
            <i class="bi bi-graph-up me-2"></i>Quick Facts
          </h3>
          <div class="row g-3">
            <div class="col-6 text-center">
              <div class="stat-item">
                <h4 class="h2 text-primary mb-1">{{ len (where site.Pages "Section" "blogs") }}</h4>
                <small class="text-muted">Blog Posts</small>
              </div>
            </div>
            <div class="col-6 text-center">
              <div class="stat-item">
                <h4 class="h2 text-success mb-1">3+</h4>
                <small class="text-muted">Years Experience</small>
              </div>
            </div>
            <div class="col-12 mt-3">
              <div class="d-flex flex-wrap gap-2">
                <span class="badge bg-primary">AI & ML</span>
                <span class="badge bg-success">Data Science</span>
                <span class="badge bg-info">Python</span>
                <span class="badge bg-warning text-dark">Research</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Blog Posts Section -->
    <div class="col-12">
      <div class="section-header mb-5 text-center">
        <h2 class="display-6 fw-bold">
          <i class="bi bi-journal-text me-2"></i>Latest Blog Posts
        </h2>
        <p class="text-muted">Thoughts on AI, machine learning, and technology</p>
        <div class="underline mx-auto mt-3" style="width: 60px; height: 4px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 2px;"></div>
      </div>
      
      {{ $blogPages := where site.Pages "Section" "blogs" }}
      {{ $blogPages = where $blogPages "Kind" "page" }}
      {{ if $blogPages }}
        <!-- Featured Blog Posts Grid - 3x3 Layout -->
        <div class="row g-4 mb-5">
          {{ range first 9 $blogPages }}
          <div class="col-lg-4 col-md-4 col-sm-6 col-12">
            {{ partial "homepage_post_card" . }}
          </div>
          {{ end }}
        </div>
        
        <!-- View All Posts Button -->
        <div class="text-center">
          <a href="/blogs/" class="btn btn-primary btn-lg px-4 py-3 rounded-pill shadow-sm">
            <i class="bi bi-collection me-2"></i>View All Posts
            <i class="bi bi-arrow-right ms-2"></i>
          </a>
        </div>
      {{ else }}
        <div class="text-center py-5">
          <div class="empty-state">
            <i class="bi bi-journal-x display-1 text-muted mb-3"></i>
            <h4 class="text-muted">No blog posts available yet</h4>
            <p class="text-muted">Check back soon for new content!</p>
          </div>
        </div>
      {{ end }}
    </div>
  </div>
</div>

{{ end }}

<!-- Modern Blog Post Preview Card -->
<div class="blog-card h-100">
  <a href="{{ .Permalink }}" class="text-decoration-none">
    <div class="card h-100 border-0 shadow-sm hover-card-effect">
      
      <!-- Featured Image -->
      {{ with partial "get_image" . }}
      <div class="card-img-top-wrapper position-relative overflow-hidden" style="height: 200px;">
        <img src="{{ (.Resize "400x200 Center").RelPermalink }}" 
             alt="{{ $.Title }}"
             class="card-img-top w-100 h-100"
             style="object-fit: cover; transition: transform 0.3s ease;">
        <div class="card-img-overlay d-flex align-items-end p-0">
          <div class="gradient-overlay w-100" style="background: linear-gradient(transparent, rgba(0,0,0,0.4)); height: 60px;"></div>
        </div>
      </div>
      {{ else }}
      <!-- Default gradient if no image -->
      <div class="card-img-top-wrapper position-relative" style="height: 120px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
        <div class="d-flex align-items-center justify-content-center h-100">
          <i class="bi bi-journal-text text-white" style="font-size: 2rem; opacity: 0.8;"></i>
        </div>
      </div>
      {{ end }}

      <div class="card-body p-4">
        <!-- Category/Tags -->
        {{ if .Params.categories }}
        <div class="mb-2">
          {{ range first 1 .Params.categories }}
          <span class="badge bg-primary bg-opacity-10 text-primary small fw-medium">{{ . }}</span>
          {{ end }}
        </div>
        {{ else if .Params.tags }}
        <div class="mb-2">
          {{ range first 1 .Params.tags }}
          <span class="badge bg-secondary bg-opacity-10 text-secondary small fw-medium">{{ . }}</span>
          {{ end }}
        </div>
        {{ end }}

        <!-- Title -->
        <h5 class="card-title fw-bold mb-3 text-dark" style="line-height: 1.3; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;">
          {{ .Title }}
        </h5>

        <!-- Subtitle -->
        {{ if .Params.subtitle }}
        <h6 class="card-subtitle mb-3 text-muted fw-normal">
          {{ .Params.subtitle }}
        </h6>
        {{ end }}

        <!-- Excerpt -->
        <p class="card-text text-muted mb-3" style="font-size: 0.9rem; line-height: 1.5; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden;">
          {{ if .Description }}
            {{ .Description }}
          {{ else }}
            {{ .Summary | truncate 150 }}
          {{ end }}
        </p>

        <!-- Meta Info -->
        <div class="d-flex align-items-center justify-content-between text-muted small">
          <div class="d-flex align-items-center">
            <i class="bi bi-calendar3 me-2"></i>
            <span>{{ .Date.Format "Jan 2, 2006" }}</span>
          </div>
          <div class="d-flex align-items-center">
            <i class="bi bi-clock me-1"></i>
            <span>{{ .ReadingTime }} min read</span>
          </div>
        </div>

        <!-- Read More -->
        <div class="mt-3 pt-2 border-top">
          <span class="btn btn-link p-0 text-primary fw-medium small">
            Read More <i class="bi bi-arrow-right ms-1"></i>
          </span>
        </div>
      </div>
    </div>
  </a>
</div>

<style>
.hover-card-effect {
  transition: all 0.3s ease;
}

.hover-card-effect:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 25px rgba(0,0,0,0.15) !important;
}

.hover-card-effect:hover .card-img-top {
  transform: scale(1.05);
}

.blog-card a:hover {
  text-decoration: none;
}

.blog-card .card-title {
  transition: color 0.2s ease;
}

.blog-card:hover .card-title {
  color: #667eea !important;
}
</style>
